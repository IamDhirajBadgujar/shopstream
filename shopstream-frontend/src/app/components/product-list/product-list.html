<!-- parent grid container -->
 <!-- SEARCH & FILTER BAR -->
<div class="filters">

  <input
    type="text"
    placeholder="Search products"
    [(ngModel)]="filters.q"
  />

  <input
    type="number"
    placeholder="Min Price"
    [(ngModel)]="filters.minPrice"
  />

  <input
    type="number"
    placeholder="Max Price"
    [(ngModel)]="filters.maxPrice"
  />

  <label class="stock-filter">
    <input
      type="checkbox"
      [(ngModel)]="filters.inStock"
    />
    In stock only
  </label>

  <select [(ngModel)]="filters.sort">
    <option value="latest">Latest</option>
    <option value="priceAsc">Price ↑</option>
    <option value="priceDesc">Price ↓</option>
  </select>

  <button (click)="search()">Apply</button>
  <button class="reset" (click)="reset()">Reset</button>

</div>

<div class="product-grid" role="list">
  <!-- each card -->
  <div class="product-card" *ngFor="let p of products" role="listitem">
    <div class="card-header">
      <h3>{{ p.name }}</h3>
    </div>

    <div class="card-body">
      <div class="stock" [ngClass]="p.stock > 0 ? 'in-stock' : 'out-stock'">
        <ng-container *ngIf="p.stock > 0; else outOfStock">
          In Stock: {{ p.stock }}
        </ng-container>
        <ng-template #outOfStock>Out of Stock</ng-template>
      </div>

      <div class="price">
        <ng-container *ngIf="p.stock > 0; else unavailablePrice">
          ₹{{ p.price }}
        </ng-container>
        <ng-template #unavailablePrice>
          <span class="price-unavailable">Price Unavailable</span>
        </ng-template>
      </div>

      <button
        class="add-btn"
        (click)="addToCart(p)"
        [disabled]="p.stock === 0">
        {{ p.stock > 0 ? 'Add to Cart' : 'Out of Stock' }}
      </button>
    </div>
  </div>
</div>
